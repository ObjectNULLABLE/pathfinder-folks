(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(e,t,a){e.exports=a.p+"static/media/npc.e8648bbf.csv"},227:function(e,t,a){e.exports=a(397)},232:function(e,t,a){},233:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(45),o=a.n(r),l=(a(232),a(20)),s=a(21),i=a(24),u=a(22),m=a(23),f=(a(233),a(132)),p=a.n(f),d=a(190),h=a(91),k=a(191),b=a(47),C=a(192),E=a.n(C),g=a(193),O=a.n(g),y=a(194),j=a.n(y),v=a(195),w=a(126),P=a.n(w),A=new v.a("pathfinder");function F(e){var t=P()(e.toLowerCase()).reduce(function(e,t){return e[t]=!0,e},{});return Object.keys(t)}A.version(1).stores({folks:"++,name,*searchableName,class,cr,race,xp,fort,ref,will"}),A.folks.hook("creating",function(e,t,a){"string"==typeof t.name&&(t.searchableName=F(t.name))}),A.folks.hook("updating",function(e,t,a,n){if(e.hasOwnProperty("name"))return"string"==typeof e.name?{searchableName:F(e.name)}:{searchableName:[]}});var M=A,S=a(196),N=a.n(S),x=a(407),I=a(197),B=a(408),D=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.folk;return c.a.createElement(I.a,{computer:5},c.a.createElement(B.a,{index:this.props.folkIndex,className:"folk-card",fluid:!0,raised:!0,onClick:this.props.onCardClick},c.a.createElement(B.a.Content,null,c.a.createElement(B.a.Header,{content:"".concat(e.name," (CR ").concat(e.cr,")")}),c.a.createElement(B.a.Meta,{content:"".concat(e.alignment," ").concat(e.race," ").concat(e.class?"(".concat(e.class,")"):"")}),c.a.createElement(B.a.Description,null,c.a.createElement("p",null,"hp ".concat(e.hp,"; AC ").concat(e.ac,"; CMD ").concat(e.cmd)),c.a.createElement("p",null,"Base Atk ".concat(e.baseAtk,"; Melee ").concat(e.melee.length>120?"see details":e.melee)),c.a.createElement("p",null,"Fort ".concat(e.fort,", Ref ").concat(e.ref,", Will ").concat(e.will))))))}}]),t}(n.Component),z=a(412),R=a(403),L=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"filterFolks",value:function(e,t){}},{key:"render",value:function(){var e=this,t=this.props.npc;return t.length>0?c.a.createElement(z.a,{className:"folk-list",centered:!0,padded:!0},t.map(function(t,a){return c.a.createElement(D,{key:a,folkIndex:a,folk:t,onCardClick:e.props.onCardClick})})):c.a.createElement(R.a,{active:!0,indeterminate:!0,inline:!0,size:"big"})}}]),t}(n.PureComponent),W=a(404),H=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"folks-filters"},c.a.createElement(W.a,{name:"name",placeholder:"Name",onChange:this.props.onFilter}),c.a.createElement(W.a,{name:"class",placeholder:"Class",onChange:this.props.onFilter}),c.a.createElement(W.a,{name:"race",placeholder:"Race",onChange:this.props.onFilter}),c.a.createElement(W.a,{name:"cr",placeholder:"CR",onChange:this.props.onFilter}))}}]),t}(n.Component),J=a(406),T=a(410),U=a(405),X=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.folkData,a=e.show,n=e.onModalClose;return t&&c.a.createElement(J.a,{open:a,onClose:n,dimmer:"inverted",size:"small"},c.a.createElement(J.a.Header,null,"".concat(t.name," CR ").concat(t.cr)),c.a.createElement(J.a.Content,{image:!0},c.a.createElement(J.a.Description,{className:"folk-modal"},c.a.createElement(T.a,null,"XP ".concat(t.xp)),c.a.createElement("p",null,"".concat(t.alignment," ").concat(t.ageCategory," ").concat(t.Race)),c.a.createElement("p",null,"Init: ".concat(t.init,"; Senses: ").concat(t.senses)),c.a.createElement("p",null,"Aura: ".concat(t.aura)),c.a.createElement(U.a,{content:"Defense",section:!0,horizontal:!0}),c.a.createElement("p",null,"AC ".concat(t.ac,"; ").concat(t.acMods)),c.a.createElement("p",null,"hp ".concat(t.hp," ").concat(t.hd)),c.a.createElement("p",null,"".concat(t.saves)),c.a.createElement(U.a,{content:"Offense",section:!0,horizontal:!0}),c.a.createElement("p",null,"Speed ".concat(t.speed)),c.a.createElement("p",null,"Melee ".concat(t.melee)),c.a.createElement("p",null,"Space ".concat(t.space,"; Reach ").concat(t.reach)),c.a.createElement("p",null,"Spell-Like Abilities ".concat(t.spellLikeAbilities)),c.a.createElement(U.a,{content:"Statistics",section:!0,horizontal:!0}),c.a.createElement("p",null,"".concat(t.abilityScores)),c.a.createElement("p",null,"Base Atk ".concat(t.baseAtk,"; CMB ").concat(t.cmb,"; CMD ").concat(t.cmd)),c.a.createElement("p",null,"Feats: ".concat(t.feats)))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={currentPage:0,folksOnPage:15,folksAmount:0,folksArray:[],selectedFolk:null,filters:{name:"",class:"",race:"",cr:""}},M.folks.count().then(function(e){a.setState({folksAmount:e}),e?console.info("db already imported"):j.a.parse(N.a,{download:!0,header:!0,transformHeader:function(e){return O()(e)},dynamicTyping:!0,complete:function(e){M.folks.bulkAdd(e.data)}})}),M.folks.orderBy("cr").limit(a.state.folksOnPage).toArray(function(e){a.setState({folksArray:e})}),a.onPageChange=a.onPageChange.bind(Object(b.a)(a)),a.onModalClose=a.onModalClose.bind(Object(b.a)(a)),a.onCardClick=a.onCardClick.bind(Object(b.a)(a)),a.onFilter=a.onFilter.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onFilter",value:function(e,t){this.setState(function(e){return{filters:Object(k.a)({},e.filters,Object(h.a)({},t.name,t.value.toLowerCase()))}})}},{key:"onPageChange",value:function(e,t){this.setState({currentPage:t.activePage-1})}},{key:"onCardClick",value:function(e,t){this.setState(function(e){return{selectedFolk:e.folksArray[e.currentPage*e.folksOnPage+t.index]}})}},{key:"onModalClose",value:function(){this.setState({selectedFolk:null})}},{key:"componentDidUpdate",value:function(){var e=Object(d.a)(p.a.mark(function e(t,a){var n,c,r,o,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,c=n.currentPage,r=n.folksOnPage,o=n.filters,a.currentPage===c&&a.filters.name===o.name){e.next=6;break}return e.next=4,M.folks.where("searchableName").startsWithIgnoreCase(o.name).reverse().offset(c*r).limit(r).sortBy("cr");case 4:l=e.sent,this.setState({folksArray:l});case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.folksArray,a=e.currentPage,n=e.selectedFolk,r=e.folksOnPage,o=e.filters,l=e.folksAmount;return console.log("rndr"),c.a.createElement("div",{className:"folk-section"},c.a.createElement(H,{onFilter:E()(this.onFilter,500)}),c.a.createElement(L,{npc:t,filters:o,pageNumber:a,folksOnPage:r,onCardClick:this.onCardClick}),c.a.createElement(x.a,{defaultActivePage:a+1,firstItem:null,lastItem:null,pointing:!0,secondary:!0,totalPages:Math.floor(l/r)-1,onPageChange:this.onPageChange}),c.a.createElement(X,{show:!!n,folkData:n,onModalClose:this.onModalClose}))}}]),t}(n.PureComponent),q=a(409),G=a(216),K=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(q.a,{size:"massive",secondary:!0},c.a.createElement(q.a.Item,{fitted:"vertically"},c.a.createElement(G.a,{size:"small",wrapped:!0,src:"https://www.firstcomicsnews.com/wp-content/uploads/2016/09/Pathfinder-Logo-600x257.png"})),c.a.createElement(q.a.Item,{link:!0,active:!0},"Folks"),c.a.createElement(q.a.Item,{link:!0},"Bestiary"),c.a.createElement(q.a.Item,{link:!0},"Spells"),c.a.createElement(q.a.Item,{link:!0},"Feats"))}}]),t}(n.Component),Q=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(K,null),c.a.createElement($,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[227,1,2]]]);
//# sourceMappingURL=main.b207eac7.chunk.js.map